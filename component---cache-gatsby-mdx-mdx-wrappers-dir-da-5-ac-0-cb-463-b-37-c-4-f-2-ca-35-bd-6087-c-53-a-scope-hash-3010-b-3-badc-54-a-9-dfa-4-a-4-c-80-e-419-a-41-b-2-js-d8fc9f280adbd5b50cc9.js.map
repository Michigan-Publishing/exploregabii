{"version":3,"sources":["webpack:///./src/components/ContentPage/ContentPage.js","webpack:///./src/templates/content-with-background.js","webpack:///./.cache/gatsby-mdx/mdx-wrappers-dir/da5ac0cb463b37c4f2ca35bd6087c53a--scope-hash-3010b3badc54a9dfa4a4c80e419a41b2.js"],"names":["styled","div","withConfig","displayName","componentId","props","src","_ref","theme","blackTranslucent","_ref2","white","shouldShowRelatedContent","data","shouldShowChildLinks","mapSiblingContent","siblingPages","edges","map","node","href","slug","title","getBodyContent","items","ContentWithBackground","_this","_Component","call","this","state","headerOffset","componentDidMount","document","setState","siteContainer","headingWrapper","clientHeight","render","_this2","_this$props","_this$props$pageConte","pageContext","backgroundImage","contextComponents","FulcrumImageVideo","fulcrum","FulcrumTextAudio","AboutTheAuthor","aboutTheAuthor","MapNavigation","newScope","objectSpread_default","scope","newProps","console","useMarkdownInsteadOfMDX","window","MSInputMethodContext","documentMode","ex","isIE11","react_default","a","createElement","breakpoints","Object","assign","ref","Helmet","charSet","visuallyHidden","hasContent","undefined","imageSrc","markdown","mdx_renderer","body","point","points","afterPoints","relatedContent","relatedLinks","secondaryNavigation","linkProperties","edge","Component","withMDXScope","content_with_background_ContentWithBackground","pageQuery","__webpack_exports__","children","objectWithoutPropertiesLoose_default","context","__mdxScope","_3010b3badc54a9dfa4a4c80e419a41b2","content_with_background"],"mappings":"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","file":"component---cache-gatsby-mdx-mdx-wrappers-dir-da-5-ac-0-cb-463-b-37-c-4-f-2-ca-35-bd-6087-c-53-a-scope-hash-3010-b-3-badc-54-a-9-dfa-4-a-4-c-80-e-419-a-41-b-2-js-d8fc9f280adbd5b50cc9.js","sourcesContent":["import React, { useState } from \"react\"\nimport PropTypes from \"prop-types\"\nimport styled from \"styled-components\"\n\nconst Container = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background: center / cover no-repeat url(\"${props => props.src}\");\n  position: relative;\n`\n\nconst Content = styled.div`\n  position: absolute;\n  top: 0;\n  right: 60px;\n  width: 40%;\n  min-width: 400px;\n  background-color: ${({ theme }) => theme.colors.blackTranslucent};\n  color: ${({ theme }) => theme.colors.white};\n  padding: 2rem;\n  line-height: 1.25rem;\n`\n\nexport function ContentPage({ imageSrc, children }) {\n  return (\n    <Container src={imageSrc}>\n      <Content>{children}</Content>\n    </Container>\n  )\n}\n","import React, { Component } from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport MDXRenderer from \"gatsby-mdx/mdx-renderer\"\nimport { withMDXScope } from \"gatsby-mdx/context\"\nimport { Helmet } from \"react-helmet\"\n\nimport ContentPage from \"../components/ContentPage\"\nimport Navigation from \"../components/secondaryNavigation\"\nimport SiteContainer from \"../components/siteContainer\"\nimport Point from \"../components/point\"\nimport Markdown from \"../components/markdown\"\nimport RelatedContent from \"../components/relatedContent\"\nimport Breakpoints from \"../components/breakpoints\"\nimport { FulcrumImageVideo, FulcrumTextAudio } from \"../components/fulcrum\"\nimport AboutTheAuthor from \"../components/aboutTheAuthor\"\nimport MapNavigation from \"../components/MapNavigation\"\n\n// eslint-disable-next-line\nimport styles from \"../styles/global.css\"\nimport VisuallyHidden from \"../components/visuallyHidden\"\n\nfunction mapLinkProperties(edges) {\n  if (!edges) {\n    return []\n  }\n\n  const output = edges.map(edge => ({\n    title: edge.node.frontmatter.title,\n    href: edge.node.fields.slug,\n  }))\n\n  return output\n}\n\nfunction shouldShowRelatedContent(data) {\n  return (\n    data &&\n    data.siblingPages &&\n    data.siblingPages.edges &&\n    data.siblingPages.edges.length > 0 &&\n    shouldShowChildLinks(data) === false\n  )\n}\n\nfunction mapSiblingContent(data) {\n  if (!shouldShowRelatedContent(data)) {\n    return null\n  }\n\n  return data.siblingPages.edges.map(({ node }) => ({\n    href: node.fields.slug,\n    title: node.frontmatter.title,\n  }))\n}\n\nfunction shouldShowChildLinks(data) {\n  return !!(data.childPages && data.childPages.edges.length > 0)\n}\n\nfunction isIE11() {\n  try {\n    return !!window.MSInputMethodContext && !!document.documentMode\n  } catch (ex) {\n    return false\n  }\n}\n\nfunction getBodyContent(data) {\n  const items = data.post.rawBody.split(\"---\")\n\n  return items.length > 0 ? items[items.length - 1] : \"\"\n}\n\nfunction hasContent(data) {\n  return data.post.wordCount.words || getBodyContent(data) != \"\"\n}\n\nclass ContentWithBackground extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { headerOffset: 0 }\n  }\n\n  componentDidMount() {\n    document.body.classList.remove(\"modalOpen\")\n\n    this.setState({\n      headerOffset: this.siteContainer\n        ? this.siteContainer.headingWrapper.clientHeight\n        : 0,\n    })\n  }\n\n  render() {\n    const {\n      pageContext: { title, backgroundImage },\n      data,\n    } = this.props\n    const contextComponents = {\n      FulcrumImageVideo,\n      FulcrumTextAudio,\n      AboutTheAuthor,\n      MapNavigation,\n    }\n    const newScope = { ...this.props.scope, ...contextComponents }\n    const newProps = { ...{ ...this.props, ...{ scope: newScope } } }\n\n    console.log('PROPS', this.props);\n\n    const useMarkdownInsteadOfMDX = isIE11()\n\n    return (\n      <Breakpoints>\n        <SiteContainer\n          ref={siteContainer => (this.siteContainer = siteContainer)}\n          {...this.props}\n        >\n          <Helmet>\n            <meta charSet=\"utf-8\" />\n            <title>{title} | Explore Gabii</title>\n          </Helmet>\n          <VisuallyHidden>\n            <h1>{title}</h1>\n          </VisuallyHidden>\n          {hasContent(data) && (\n            <ContentPage imageSrc={backgroundImage}>\n              <h1>{title}</h1>\n              {useMarkdownInsteadOfMDX ? (\n                <Markdown>{getBodyContent(data)}</Markdown>\n              ) : (\n                <MDXRenderer {...newProps}>{data.post.code.body}</MDXRenderer>\n              )}\n              {data.post.frontmatter && data.post.frontmatter.points && (\n                <Point\n                  points={data.post.frontmatter.points}\n                  headerOffset={this.state.headerOffset}\n                />\n              )}\n              <Markdown>{data.post.frontmatter.afterPoints}</Markdown>\n            </ContentPage>\n          )}\n          {shouldShowRelatedContent(data) && (\n            <RelatedContent relatedLinks={mapSiblingContent(data)} />\n          )}\n          {shouldShowChildLinks(data) && (\n            <Navigation\n              linkProperties={mapLinkProperties(data.childPages.edges)}\n            />\n          )}\n        </SiteContainer>\n      </Breakpoints>\n    )\n  }\n}\n\nexport default withMDXScope(ContentWithBackground)\n\nexport const pageQuery = graphql`\n  query($id: String!, $key: String!, $parentKey: String) {\n    post: mdx(id: { eq: $id }) {\n      id\n      rawBody\n      code {\n        body\n      }\n      wordCount {\n        words\n      }\n      frontmatter {\n        title\n        afterPoints\n        points {\n          point\n          title\n        }\n      }\n    }\n    childPages: allMdx(filter: { frontmatter: { parentKey: { eq: $key } } }) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            key\n            parentKey\n          }\n        }\n      }\n    }\n    siblingPages: allMdx(\n      filter: {\n        frontmatter: { parentKey: { eq: $parentKey }, key: { ne: $key } }\n      }\n    ) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n          }\n        }\n      }\n    }\n    allMdx: allMdx {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            key\n            parentKey\n          }\n        }\n      }\n    }\n  }\n`\n","// .cache/gatsby-mdx/wrapper-components/{wrapper-filepath-hash}-{scope-hash}.js\nimport React from 'react';\nimport { MDXScopeProvider } from 'gatsby-mdx/context';\n\nimport __mdxScope_0 from '/Users/scottsanzenbacher/Documents/Projects/Spaceship/exploregabii/.cache/gatsby-mdx/mdx-scopes-dir/3010b3badc54a9dfa4a4c80e419a41b2.js';\n\nimport OriginalWrapper from '/Users/scottsanzenbacher/Documents/Projects/Spaceship/exploregabii/src/templates/content-with-background.js';\n\nimport { graphql } from 'gatsby';\n\n// pageQuery, etc get hoisted to here\nexport const pageQuery = graphql`\n  query($id: String!, $key: String!, $parentKey: String) {\n    post: mdx(id: { eq: $id }) {\n      id\n      rawBody\n      code {\n        body\n      }\n      wordCount {\n        words\n      }\n      frontmatter {\n        title\n        afterPoints\n        points {\n          point\n          title\n        }\n      }\n    }\n    childPages: allMdx(filter: { frontmatter: { parentKey: { eq: $key } } }) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            key\n            parentKey\n          }\n        }\n      }\n    }\n    siblingPages: allMdx(\n      filter: {\n        frontmatter: { parentKey: { eq: $parentKey }, key: { ne: $key } }\n      }\n    ) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n          }\n        }\n      }\n    }\n    allMdx: allMdx {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            key\n            parentKey\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport default ({children, ...props}) => <MDXScopeProvider __mdxScope={{...__mdxScope_0}}>\n  <OriginalWrapper\n    {...props}\n  >\n    {children}\n  </OriginalWrapper>\n</MDXScopeProvider>"],"sourceRoot":""}