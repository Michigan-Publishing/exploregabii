{"version":3,"sources":["webpack:///./src/templates/content-pages.js","webpack:///./.cache/gatsby-mdx/mdx-wrappers-dir/f295b1decd1d0de173c6bf399815be99--scope-hash-3010b3badc54a9dfa4a4c80e419a41b2.js"],"names":["shouldShowRelatedContent","data","shouldShowChildLinks","mapSiblingContent","siblingPages","edges","map","_ref","node","href","slug","title","getBodyContent","items","ContentPages","props","_this","_Component","call","this","state","headerOffset","componentDidMount","document","setState","siteContainer","headingWrapper","clientHeight","render","_this2","_this$props","pageContext","contextComponents","FulcrumImageVideo","fulcrum","FulcrumTextAudio","AboutTheAuthor","aboutTheAuthor","MapNavigation","newScope","objectSpread_default","scope","newProps","useMarkdownInsteadOfMDX","window","MSInputMethodContext","documentMode","ex","isIE11","react_default","a","createElement","breakpoints","Object","assign","ref","Helmet","charSet","visuallyHidden","hasContent","contentArea","markdown","mdx_renderer","body","point","points","afterPoints","relatedContent","relatedLinks","secondaryNavigation","linkProperties","edge","Component","withMDXScope","content_pages_ContentPages","pageQuery","__webpack_exports__","children","objectWithoutPropertiesLoose_default","context","__mdxScope","_3010b3badc54a9dfa4a4c80e419a41b2","content_pages"],"mappings":"qUAmCA,SAAAA,EAAAC,GACE,OACEA,GACAA,EADAA,cAEAA,eAFAA,OAGAA,4BAHAA,IADF,IAKEC,KAIJ,SAAAC,EAAAF,GACE,OAAKD,EAALC,GAIOA,EAAAG,aAAAC,MAAAC,IAA4B,SAAAC,GAAA,IAAGC,EAAHD,EAAAC,KAAA,MAAe,CAChDC,KAAMD,SAD0CE,KAEhDC,MAAOH,cAAiBG,SALxB,KASJ,SAAAT,EAAAD,GACE,SAAUA,cAAmBA,0BAA7B,GAWF,SAAAW,EAAAX,GACE,IAAMY,EAAQZ,qBAAd,OAEA,OAAOY,WAAmBA,EAAMA,SAAzBA,GAAP,OAOIC,cACJ,SAAAA,EAAAC,GAAmB,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAAJ,IAAAI,MACAC,MAAa,CAAEC,aAAc,GAFZL,sCAKnBM,6BACEC,4CAEAJ,KAAAK,SAAc,CACZH,aAAcF,KAAAM,cACVN,KAAAM,cAAAC,eADUC,aAEV,OAIRC,kBAAS,IAxEXvB,EAwEWwB,EAAAV,KAAAW,EAIHX,KAJGJ,MAEUJ,EAFVmB,EAAAC,YAAApB,MAGLV,EAHK6B,EAAA7B,KAKD+B,EAAoB,CACxBC,kBADwBC,EAAA,EAExBC,iBAFwBD,EAAA,EAGxBE,eAHwBC,EAAA,EAIxBC,mBAEIC,EAAQC,IAAA,GAAQrB,KAAAJ,MAAR0B,MAAdT,GACMU,EAAQF,IAAA,GAAAA,IAAA,GAAarB,KAAbJ,MAA4B,CAAE0B,MAAOF,KAE7CI,EAhDV,WACE,IACE,QAASC,OAAFC,wBAAmCtB,SAA1CuB,aACA,MAAAC,GACA,UA4CgCC,GAEhC,OACEC,EAAAC,EAAAC,cAAAC,EAAA,OACEH,EAAAC,EAAAC,cAAA1B,EAAA,EAAA4B,OAAAC,OAAA,CACEC,IAAK,SAAA9B,GAAa,OAAKI,EAAAJ,cAALA,IACdN,KAFNJ,OAIEkC,EAAAC,EAAAC,cAAAK,EAAA,YACEP,EAAAC,EAAAC,cAAA,QAAMM,QAAQ,UACdR,EAAAC,EAAAC,cAAA,aAAAxC,EANJ,qBAQEsC,EAAAC,EAAAC,cAAAO,EAAA,OACET,EAAAC,EAAAC,cAAA,UATJxC,IAtCR,SAAAV,GACE,OAAOA,wBAAP,IAAoCW,KAgD3B+C,KACCV,EAAAC,EAAAC,cAAAS,EAAA,OACEX,EAAAC,EAAAC,cAAA,UADFxC,GAEGgC,EACCM,EAAAC,EAAAC,cAAAU,EAAA,OAAWjD,EADWX,IAGtBgD,EAAAC,EAAAC,cAAAW,EAAA,EAAApB,EAA4BzC,YALhC8D,MAOG9D,oBAAyBA,mBAAzBA,QACCgD,EAAAC,EAAAC,cAAAa,EAAA,GACEC,OAAQhE,mBADVgE,OAEE5C,aAAcF,KAAAC,MAAWC,eAG7B4B,EAAAC,EAAAC,cAAAU,EAAA,OAAW5D,mBAzBjBiE,cA4BGlE,MACCiD,EAAAC,EAAAC,cAAAgB,EAAA,GAAgBC,aAAcjE,EAAiBF,KAEhDC,MACC+C,EAAAC,EAAAC,cAAAkB,EAAA,GACEC,gBA3HdjE,EA2HgDJ,aAADI,MA1H7CA,EAIeA,EAAAC,IAAU,SAAAiE,GAAI,MAAK,CAChC5D,MAAO4D,mBADyB5D,MAEhCF,KAAM8D,cAAiB7D,QALvB,YAsDuB8D,aA4EZC,yBAAfC,2CC/IO,IAAMC,EAAN,aAmEQC,EAAA,iBAAArE,GAAA,IAAEsE,EAAFtE,EAAAsE,SAAe9D,EAAf+D,IAAAvE,EAAA,qBAA0B0C,EAAAC,EAAAC,cAAA4B,EAAA,kBAAkBC,WAAUxC,IAAA,GAAAyC,EAAA,IACnEhC,EAAAC,EAAAC,cAAA+B,EAAAnE,EADa8D","file":"component---cache-gatsby-mdx-mdx-wrappers-dir-f-295-b-1-decd-1-d-0-de-173-c-6-bf-399815-be-99-scope-hash-3010-b-3-badc-54-a-9-dfa-4-a-4-c-80-e-419-a-41-b-2-js-d359779f3391414b4818.js","sourcesContent":["import React, { Component } from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport MDXRenderer from \"gatsby-mdx/mdx-renderer\"\nimport { withMDXScope } from \"gatsby-mdx/context\"\nimport { Helmet } from \"react-helmet\"\n\nimport ContentArea from \"../components/contentArea\"\nimport Navigation from \"../components/secondaryNavigation\"\nimport SiteContainer from \"../components/siteContainer\"\nimport Point from \"../components/point\"\nimport Markdown from \"../components/markdown\"\nimport RelatedContent from \"../components/relatedContent\"\nimport Breakpoints from \"../components/breakpoints\"\nimport { FulcrumImageVideo, FulcrumTextAudio } from \"../components/fulcrum\"\nimport AboutTheAuthor from \"../components/aboutTheAuthor\"\nimport MapNavigation from \"../components/MapNavigation\"\n\n// eslint-disable-next-line\nimport styles from \"../styles/global.css\"\nimport VisuallyHidden from \"../components/visuallyHidden\"\n\nfunction mapLinkProperties(edges) {\n  if (!edges) {\n    return []\n  }\n\n  const output = edges.map(edge => ({\n    title: edge.node.frontmatter.title,\n    href: edge.node.fields.slug,\n  }))\n\n  return output\n}\n\nfunction shouldShowRelatedContent(data) {\n  return (\n    data &&\n    data.siblingPages &&\n    data.siblingPages.edges &&\n    data.siblingPages.edges.length > 0 &&\n    shouldShowChildLinks(data) === false\n  )\n}\n\nfunction mapSiblingContent(data) {\n  if (!shouldShowRelatedContent(data)) {\n    return null\n  }\n\n  return data.siblingPages.edges.map(({ node }) => ({\n    href: node.fields.slug,\n    title: node.frontmatter.title,\n  }))\n}\n\nfunction shouldShowChildLinks(data) {\n  return !!(data.childPages && data.childPages.edges.length > 0)\n}\n\nfunction isIE11() {\n  try {\n    return !!window.MSInputMethodContext && !!document.documentMode\n  } catch (ex) {\n    return false\n  }\n}\n\nfunction getBodyContent(data) {\n  const items = data.post.rawBody.split(\"---\")\n\n  return items.length > 0 ? items[items.length - 1] : \"\"\n}\n\nfunction hasContent(data) {\n  return data.post.wordCount.words || getBodyContent(data) != \"\"\n}\n\nclass ContentPages extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { headerOffset: 0 }\n  }\n\n  componentDidMount() {\n    document.body.classList.remove(\"modalOpen\")\n\n    this.setState({\n      headerOffset: this.siteContainer\n        ? this.siteContainer.headingWrapper.clientHeight\n        : 0,\n    })\n  }\n\n  render() {\n    const {\n      pageContext: { title },\n      data,\n    } = this.props\n    const contextComponents = {\n      FulcrumImageVideo,\n      FulcrumTextAudio,\n      AboutTheAuthor,\n      MapNavigation,\n    }\n    const newScope = { ...this.props.scope, ...contextComponents }\n    const newProps = { ...{ ...this.props, ...{ scope: newScope } } }\n\n    const useMarkdownInsteadOfMDX = isIE11()\n\n    return (\n      <Breakpoints>\n        <SiteContainer\n          ref={siteContainer => (this.siteContainer = siteContainer)}\n          {...this.props}\n        >\n          <Helmet>\n            <meta charSet=\"utf-8\" />\n            <title>{title} | Explore Gabii</title>\n          </Helmet>\n          <VisuallyHidden>\n            <h1>{title}</h1>\n          </VisuallyHidden>\n          {hasContent(data) && (\n            <ContentArea>\n              <h1>{title}</h1>\n              {useMarkdownInsteadOfMDX ? (\n                <Markdown>{getBodyContent(data)}</Markdown>\n              ) : (\n                <MDXRenderer {...newProps}>{data.post.code.body}</MDXRenderer>\n              )}\n              {data.post.frontmatter && data.post.frontmatter.points && (\n                <Point\n                  points={data.post.frontmatter.points}\n                  headerOffset={this.state.headerOffset}\n                />\n              )}\n              <Markdown>{data.post.frontmatter.afterPoints}</Markdown>\n            </ContentArea>\n          )}\n          {shouldShowRelatedContent(data) && (\n            <RelatedContent relatedLinks={mapSiblingContent(data)} />\n          )}\n          {shouldShowChildLinks(data) && (\n            <Navigation\n              linkProperties={mapLinkProperties(data.childPages.edges)}\n            />\n          )}\n        </SiteContainer>\n      </Breakpoints>\n    )\n  }\n}\n\nexport default withMDXScope(ContentPages)\n\nexport const pageQuery = graphql`\n  query($id: String!, $key: String!, $parentKey: String) {\n    post: mdx(id: { eq: $id }) {\n      id\n      rawBody\n      code {\n        body\n      }\n      wordCount {\n        words\n      }\n      frontmatter {\n        title\n        afterPoints\n        points {\n          point\n          title\n        }\n      }\n    }\n    childPages: allMdx(filter: { frontmatter: { parentKey: { eq: $key } } }) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            key\n            parentKey\n          }\n        }\n      }\n    }\n    siblingPages: allMdx(\n      filter: {\n        frontmatter: { parentKey: { eq: $parentKey }, key: { ne: $key } }\n      }\n    ) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n          }\n        }\n      }\n    }\n    allMdx: allMdx {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            key\n            parentKey\n          }\n        }\n      }\n    }\n  }\n`\n","// .cache/gatsby-mdx/wrapper-components/{wrapper-filepath-hash}-{scope-hash}.js\nimport React from 'react';\nimport { MDXScopeProvider } from 'gatsby-mdx/context';\n\nimport __mdxScope_0 from '/Users/scottsanzenbacher/Documents/Projects/Spaceship/exploregabii/.cache/gatsby-mdx/mdx-scopes-dir/3010b3badc54a9dfa4a4c80e419a41b2.js';\n\nimport OriginalWrapper from '/Users/scottsanzenbacher/Documents/Projects/Spaceship/exploregabii/src/templates/content-pages.js';\n\nimport { graphql } from 'gatsby';\n\n// pageQuery, etc get hoisted to here\nexport const pageQuery = graphql`\n  query($id: String!, $key: String!, $parentKey: String) {\n    post: mdx(id: { eq: $id }) {\n      id\n      rawBody\n      code {\n        body\n      }\n      wordCount {\n        words\n      }\n      frontmatter {\n        title\n        afterPoints\n        points {\n          point\n          title\n        }\n      }\n    }\n    childPages: allMdx(filter: { frontmatter: { parentKey: { eq: $key } } }) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            key\n            parentKey\n          }\n        }\n      }\n    }\n    siblingPages: allMdx(\n      filter: {\n        frontmatter: { parentKey: { eq: $parentKey }, key: { ne: $key } }\n      }\n    ) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n          }\n        }\n      }\n    }\n    allMdx: allMdx {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            key\n            parentKey\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport default ({children, ...props}) => <MDXScopeProvider __mdxScope={{...__mdxScope_0}}>\n  <OriginalWrapper\n    {...props}\n  >\n    {children}\n  </OriginalWrapper>\n</MDXScopeProvider>"],"sourceRoot":""}