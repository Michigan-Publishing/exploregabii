{"version":3,"file":"0.75aa12eb8121bc9049a2.hot-update.js","sources":["webpack:///./src/components/MapNavigation/MapNavigation.js"],"sourcesContent":["import React, { Component, useState } from \"react\"\nimport styled from \"styled-components\"\nimport ImageMapper from 'react-image-mapper';\n\nconst AreaTag = styled.span`\n  position: absolute;\n  color: #fff;\n  padding: 10px;\n  background: rgba(0,0,0,0.8);\n  transform: translate3d(-50%, -50%, 0);\n  border-radius: 5px;\n  pointer-events: none;\n  z-index: 1000;\n`\n\nexport class MapNavigation extends Component{\n  constructor(props) {\n    super(props);\n  }\n\n  state = {\n    areaCoords: null\n  };\n  \n  componentDidMount() {\n    console.log('COMPONENT DID MOUNT', this.props.map);\n    if(this.mapper && this.mapper.computeCenter) {\n      const areaCoords = JSON.parse(this.props.map).areas.reduce((accum, area) => {\n        area.coords = JSON.parse(area.coords);\n        accum[area.name] = this.mapper.computeCenter(area);\n        return accum;\n      }, {});\n      this.setState({ areaCoords });\n    }\n  }\n\n  render() {\n    const { imageSrc, map: mapString } = this.props;\n    var map = JSON.parse(mapString);\n    if(map && Array.isArray(map.areas)) {\n      map.areas.forEach(area => {\n        area.coords = JSON.parse(area.coords);\n      });\n    }\n\n    return (\n      <div style={{ position: 'absolute' }}>\n        <ImageMapper \n          ref={mapper => this.mapper = mapper}\n          src={imageSrc} \n          map={map}\n          key=\"mapper\" />\n          {\n            this.mapper && \n            this.state.areaCoords &&\n            map.areas.map(area => {\n              const coords = this.state.areaCoords[area.name];\n              return (\n                <AreaTag key={area.name} style={{ top: `${coords[1]}px`, left: `${coords[0]}px` }}>{area.name}</AreaTag>\n              );\n            })\n          }\n      </div>\n    )\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAKA;AADA;AAJA;AAEA;AACA;AAJA;AACA;AADA;AASA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AApBA;AAqBA;AACA;AADA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAIA;AACA;AAlDA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;;;;;;;;;;AAXA;AAWA;;;;;;;;;;;;;A","sourceRoot":""}