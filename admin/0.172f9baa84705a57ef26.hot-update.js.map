{"version":3,"file":"0.172f9baa84705a57ef26.hot-update.js","sources":["webpack:///./src/components/MapNavigation/MapNavigation.js"],"sourcesContent":["import React, { Component, useState } from \"react\"\nimport styled from \"styled-components\"\nimport ImageMapper from 'react-image-mapper';\nimport { unescapeWithRegexp } from '../../utils/escape';\n\nconst AreaTag = styled.span`\n  position: absolute;\n  color: #fff;\n  padding: 10px;\n  background: rgba(0,0,0,0.8);\n  transform: translate3d(-50%, -50%, 0);\n  border-radius: 5px;\n  pointer-events: none;\n  z-index: 1000;\n`\n\nexport default class MapNavigation extends Component{\n  constructor(props) {\n    super(props);\n  }\n\n  state = {\n    areaCoords: null\n  };\n  \n  componentDidMount() {\n    if(this.mapper && this.mapper.computeCenter) {\n      const areaCoords = JSON.parse(this.props.map).areas.reduce((accum, area) => {\n        area.coords = JSON.parse(area.coords);\n        accum[area.name] = this.mapper.computeCenter(area);\n        return accum;\n      }, {});\n      this.setState({ areaCoords });\n    }\n  }\n\n  render() {\n    const { imageSrc, map: mapString } = this.props;\n    console.log('PROPS', this.props);\n    var map = '';\n    try{\n      map = JSON.parse(unescape(mapString));\n    } \n    catch(ex) {\n      console.log('EXCEPTION!', ex);\n    }\n    console.log('MAP!', map);\n    if(map && Array.isArray(map.areas)) {\n      map.areas.forEach(area => {\n        area.coords = JSON.parse(area.coords);\n      });\n    }\n\n    return (\n      <div style={{ position: 'absolute' }}>\n        <ImageMapper \n          ref={mapper => this.mapper = mapper}\n          src={imageSrc} \n          map={map}\n          key=\"mapper\" />\n      </div>\n    )\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAUA;;;;;AACA;AAAA;AACA;AAAA;AADA;AAKA;AADA;AAJA;AAEA;AACA;;;AAKA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;;;;;;;;AA/CA;AACA;AADA;;;;;;;;;;AAXA;AAWA;;;;;;;;;;;;;A","sourceRoot":""}